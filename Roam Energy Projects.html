<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Projects</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html {
      scroll-behavior: smooth;
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    @keyframes modalFadeIn {
      0% { opacity: 0; transform: translateY(-20px) scale(0.95); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes modalFadeOut {
      0% { opacity: 1; transform: translateY(0) scale(1); }
      100% { opacity: 0; transform: translateY(-20px) scale(0.95); }
    }
    .fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
    .modal-animate-in { animation: modalFadeIn 0.35s ease-out forwards; }
    .modal-animate-out { animation: modalFadeOut 0.25s ease-in forwards; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">  
<!-- Navbar -->
<nav class="fixed top-0 left-0 right-0 z-50 flex justify-between items-center px-6 py-3 bg-white/90 backdrop-blur shadow-sm">
  <div class="text-xl font-bold text-orange-500">Roam Energy</div>
  <a href="Roam Energy1.html" class="text-gray-700 hover:text-orange-500 font-medium transition">Home</a>
</nav>

<section class="pt-28 pb-16 px-6 md:px-12 lg:px-20">
  <h2 class="text-4xl font-bold text-center mb-12">Our Projects</h2>
  <div id="projects-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
</section>

<!-- Modal -->
<div id="project-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center z-50">
  <div class="bg-white rounded-2xl shadow-lg p-6 max-w-2xl w-full relative transform transition-transform duration-300">
    <button onclick="closeProjectModal()" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    <h3 id="modal-title" class="text-2xl font-bold mb-4">Project Title</h3>

    <!-- Carousel -->
    <div class="relative mb-4">
      <img id="modal-image" src="" alt="Project image" class="w-full h-64 object-cover rounded">
      <button id="prevImage" class="hidden absolute left-3 top-1/2 -translate-y-1/2 bg-black/40 text-white p-2 rounded-full hover:bg-black">&lt;</button>
      <button id="nextImage" class="hidden absolute right-3 top-1/2 -translate-y-1/2 bg-black/40 text-white p-2 rounded-full hover:bg-black">&gt;</button>
      </div>

    <div id="modal-content" class="space-y-4"></div>
  </div>
</div>

<script>
const projects = [
  {
    name: "Emboo River 2",
    images: ["Emboo River1.jpg","Emboo River.jpg"],
    location: "Maasai Mara, Kenya (Maasai Mara National Park, Narok County)",
    size: "64.31 kWp off-grid solar PV system with 153.6 kWh lithium-ion battery storage",
    completed: "January 2023",
    results: "Provides reliable off-grid power for a remote area",
    description: "Roam Energy implemented an off-grid solar PV system with substantial battery storage to supply electricity sustainably in the heart of Maasai Mara National Park."
  },
  {
    name: "Roam Park",
    images: ["Roam Park.png"],
    location: "Nairobi, Kenya",
    size: "55.78 kWp grid-tied solar PV system",
    completed: "August 2021",
    results: "Efficient energy generation using advanced solar panels and inverters",
    description: "Roam Energy installed a 55.78 kWp grid-tied solar PV system featuring Jinko 575W solar panels and SMA Sunny Tripower Core inverters at Roam Park."
  },
  {
    name: "Carton Manufacturers",
    images: ["https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&w=2070&q=80"],
    location: "Nairobi, Kenya",
    size: "403kWp / 400kVA rooftop grid-tied Solar PV System",
    completed: "March 2022",
    results: "Successfully delivered a high-capacity rooftop solar system to offset energy consumption",
    description: "Roam Energy delivered and installed a 403 kWp/400 kVA rooftop grid-tied solar PV system for Carton Manufacturers Ltd., providing a reliable and sustainable energy solution."
  },
  {
    name: "Sekanani Camp",
    images: ["Sekanani Camp1.png","Sekanani Camp.png"],
    location: "Maasai Mara, Kenya (Maasai Mara National Park, Narok County)",
    size: "10.34 kWp off-grid solar PV system with 25.6 kWh battery storage",
    completed: "November 2022",
    results: "Ensured reliable off-grid energy for camp operations",
    description: "Roam Energy installed an off-grid solar PV system to meet the energy needs of Sekanani Camp, supporting sustainable tourism in a remote area."
  },
  {
    name: "Carl Martens - Residential Solar PV System",
    images: ["Carl Martens1.png","Carl Martens.png"],
    location: "Ukunda, Kwale County, Kenya",
    size: "10.45 kWp grid-tied solar PV system with 15.36 kWh battery storage",
    completed: "June 2023",
    results: "Enhanced energy independence and reduced reliance on the grid",
    description: "Roam Energy delivered a residential solar PV system with battery storage for a private residence in Ukunda, offering reliable and clean energy solutions."
  }
];

const projectsGrid = document.getElementById("projects-grid");

// Scroll animation
const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      entry.target.classList.add("fade-in-up");
      entry.target.classList.remove("opacity-0");
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.1 });

// Render project cards
projects.forEach((project) => {
  const safeId = project.name.replace(/\s+/g, '');
  const card = document.createElement("div");
  card.className = "project-card bg-white rounded-2xl shadow-md border border-gray-200 transition-all duration-300 opacity-0 cursor-pointer hover:scale-[1.03] hover:shadow-2xl hover:border-orange-400 hover:bg-orange-50";

  card.innerHTML = `
    <div class="relative group">
      <img id="${safeId}-img" 
        src="${project.images[0]}" 
        alt="${project.name}" 
        loading="lazy"
        class="w-full h-48 object-cover rounded-t-2xl transform transition-transform duration-500 group-hover:scale-105">

      <!-- Prev Arrow -->
      ${project.images.length > 1 ? `
      <button onclick="cycleImage('${project.name}', -1)"
        class="absolute left-3 top-1/2 -translate-y-1/2 bg-black/40 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
        &lt;
      </button>` : ''}

      <!-- Next Arrow -->
      ${project.images.length > 1 ? `
      <button onclick="cycleImage('${project.name}', 1)"
        class="absolute right-3 top-1/2 -translate-y-1/2 bg-black/40 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
        &gt;
      </button>` : ''}
    </div>

    <div class="p-4">
      <h3 class="text-xl font-semibold mb-2">${project.name}</h3>
      <p class="text-sm text-gray-600 mb-2"><strong>Location:</strong> ${project.location}</p>
      <p class="text-sm text-gray-600 mb-2"><strong>Size:</strong> ${project.size}</p>
      <button onclick="openProjectModal('${project.name}')"
        class="mt-4 inline-block px-4 py-2 bg-orange-500 text-white rounded-xl shadow hover:bg-orange-600 transition">
        View Details
      </button>
    </div>
  `;

  projectsGrid.appendChild(card);
  observer.observe(card);
});

// Cycle images inside cards
function cycleImage(projectName, direction) {
  const project = projects.find(p => p.name === projectName);
  if (!project) return;

  if (project.cardIndex === undefined) project.cardIndex = 0;

  project.cardIndex = (project.cardIndex + direction + project.images.length) % project.images.length;

  const imgEl = document.getElementById(project.name.replace(/\s+/g, '') + "-img");
  if (imgEl) imgEl.src = project.images[project.cardIndex];
}

let currentIndex = 0;
let currentProject = null;

// Modal open
function openProjectModal(name) {
  const modal = document.getElementById("project-modal");
  const title = document.getElementById("modal-title");
  const content = document.getElementById("modal-content");
  const imgEl = document.getElementById("modal-image");
  const prevBtn = document.getElementById("prevImage");
  const nextBtn = document.getElementById("nextImage");

  currentProject = projects.find((p) => p.name === name);
  currentIndex = 0;

  if (!currentProject) return;

  title.textContent = currentProject.name;
  imgEl.src = currentProject.images[currentIndex];

  content.innerHTML = `
    <p><strong>Location:</strong> ${currentProject.location}</p>
    <p><strong>System Size:</strong> ${currentProject.size}</p>
    <p><strong>Completed:</strong> ${currentProject.completed}</p>
    <p><strong>Results:</strong> ${currentProject.results}</p>
    <p class="mt-2">${currentProject.description}</p>
  `;

  // ðŸ”‘ Only show arrows if more than one image
  if (currentProject.images.length > 1) {
    prevBtn.classList.remove("hidden");
    nextBtn.classList.remove("hidden");
  } else {
    prevBtn.classList.add("hidden");
    nextBtn.classList.add("hidden");
  }

  modal.classList.remove("hidden");
  modal.classList.add("flex");
}


// Modal close
function closeProjectModal() {
  const modal = document.getElementById("project-modal");
  modal.classList.add("hidden");
  modal.classList.remove("flex");
}

// Modal navigation
document.getElementById("prevImage").addEventListener("click", () => {
  if (!currentProject) return;
  currentIndex = (currentIndex - 1 + currentProject.images.length) % currentProject.images.length;
  document.getElementById("modal-image").src = currentProject.images[currentIndex];
});

document.getElementById("nextImage").addEventListener("click", () => {
  if (!currentProject) return;
  currentIndex = (currentIndex + 1) % currentProject.images.length;
  document.getElementById("modal-image").src = currentProject.images[currentIndex];
});

// Close modal if clicking outside
const modal = document.getElementById("project-modal");
modal.addEventListener("click", (e) => { if (e.target === modal) closeProjectModal(); });

// Escape key
document.addEventListener("keydown", function(event) {
  if (event.key === "Escape") closeProjectModal();
});
</script>


<!-- Footer -->
<footer class="bg-gray-800 text-gray-300 py-6 mt-12">
  <div class="container mx-auto px-4 text-center">
    <p>&copy; 2025 Roam Energy. All rights reserved.</p>
  </div>
</footer>
</body>
</html>